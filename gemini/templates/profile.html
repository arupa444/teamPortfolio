{% extends 'base.html' %}

{% block content %}
<section class="relative pt-32 pb-12 overflow-hidden">
    <!-- Background FX -->
    <div class="absolute top-0 right-0 w-[500px] h-[500px] bg-cyan/10 rounded-full blur-[100px] -z-10"></div>

    <div class="max-w-6xl mx-auto px-6">

        <!-- NEW: BACK BUTTON -->
        <div class="mb-12">
            <a href="{{ url_for('home') }}" class="inline-flex items-center text-sm font-mono text-gray-400 hover:text-cyan transition-colors group">
                <i class="fa-solid fa-arrow-left mr-2 group-hover:-translate-x-1 transition-transform"></i>
                RETURN TO HEADQUARTERS
            </a>
        </div>

        <div class="flex flex-col md:flex-row gap-12 items-start">

            <!-- IMAGE AVATAR -->
            <div class="w-full md:w-1/3">
                <div class="aspect-[4/5] bg-gray-900 rounded-2xl border border-white/10 relative overflow-hidden group">
                    <!-- Dynamic Image Loading -->
                    <img src="{{ url_for('static', filename='assets/' + member.image) }}"
                         alt="{{ member.name }}"
                         class="w-full h-full object-cover opacity-90 group-hover:opacity-100 group-hover:scale-105 transition-all duration-700"
                         onerror="this.src='https://ui-avatars.com/api/?name={{ member.name }}&background=030712&color=06b6d4&size=400'">

                    <div class="absolute inset-0 bg-gradient-to-t from-deep via-transparent to-transparent opacity-80"></div>
                </div>

                <!-- Contact Details -->
                <div class="mt-6 space-y-3 font-mono text-sm text-gray-400">
                    <div class="flex items-center gap-3">
                        <i class="fa-solid fa-envelope text-cyan"></i> {{ member.email }}
                    </div>
                    <div class="flex items-center gap-3">
                        <i class="fa-solid fa-phone text-cyan"></i> {{ member.phone }}
                    </div>
                </div>

                <!-- Socials -->
                <div class="flex gap-4 mt-6">
                    {% for platform, link in member.socials.items() %}
                    <a href="{{ link }}" target="_blank" class="w-10 h-10 flex items-center justify-center rounded-full border border-white/10 hover:bg-cyan hover:text-deep transition-all">
                        <i class="fab fa-{{ platform }}"></i>
                    </a>
                    {% endfor %}
                </div>
            </div>

            <!-- Main Info -->
            <div class="w-full md:w-2/3">
                <span class="inline-block px-3 py-1 mb-4 text-xs font-mono text-cyan border border-cyan/30 rounded bg-cyan/5">{{ member.role }}</span>
                <h1 class="text-5xl md:text-7xl font-bold mb-6 tracking-tight">{{ member.name }}</h1>
                <p class="text-xl text-gray-300 font-light leading-relaxed mb-8 border-l-2 border-cyan pl-6">{{ member.tagline }}</p>

                <!-- OVERALL WORK SUMMARY -->
                <div class="bg-white/5 p-6 rounded-xl border border-white/10 mb-8">
                    <h3 class="text-xs font-bold text-cyan uppercase tracking-widest mb-2">/// Professional Profile</h3>
                    <p class="text-gray-300 leading-relaxed">{{ member.bio }}</p>
                </div>

                <h3 class="text-lg font-mono text-white mb-4">/// TECH STACK</h3>
                <div class="flex flex-wrap gap-2 mb-8">
                    {% for skill in member.skills %}
                    <span class="px-3 py-1 bg-white/5 border border-white/10 text-xs text-gray-300 rounded hover:border-cyan/50 transition-colors">{{ skill }}</span>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</section>

<!-- DEEP DIVE SECTION (Experience & Projects) -->
<section class="py-16 bg-[#02040a]">
    <div class="max-w-6xl mx-auto px-6 grid md:grid-cols-12 gap-16">

        <!-- FULL EXPERIENCE HISTORY -->
        <div class="md:col-span-6">
            <h3 class="text-2xl font-bold mb-8 flex items-center text-white">
                <i class="fa-solid fa-code-branch text-cyan mr-3 text-sm"></i> Full Career History
            </h3>
            <div class="space-y-8 border-l border-white/10 pl-8 relative">
                {% for job in member.experience %}
                <div class="relative group">
                    <div class="absolute -left-[37px] top-1 w-4 h-4 bg-deep border border-cyan rounded-full group-hover:bg-cyan transition-colors"></div>
                    <div class="flex justify-between items-baseline mb-2">
                        <h4 class="text-xl font-bold text-white">{{ job.company }}</h4>
                    </div>
                    <div class="flex justify-between items-center mb-2">
                         <span class="text-cyan text-sm font-bold">{{ job.role }}</span>
                         <span class="font-mono text-xs text-gray-500">{{ job.time }}</span>
                    </div>
                    <p class="text-gray-400 text-sm leading-relaxed">{{ job.desc }}</p>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- BEST PROJECTS -->
        <div class="md:col-span-6">
            <h3 class="text-2xl font-bold mb-8 flex items-center text-white">
                <i class="fa-solid fa-microchip text-cyan mr-3 text-sm"></i> Key Engineering Projects
            </h3>
            <div class="space-y-4">
                {% for project in member.projects %}
                <div class="bg-glass p-5 rounded-lg border border-white/5 hover:border-cyan/30 transition-all group">
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="text-lg font-bold text-gray-200 group-hover:text-cyan transition-colors">{{ project.title }}</h4>
                        <span class="text-[10px] border border-white/20 px-2 py-0.5 rounded text-gray-500">{{ project.tech }}</span>
                    </div>
                    <p class="text-gray-400 text-sm leading-relaxed">{{ project.desc }}</p>
                </div>
                {% endfor %}
            </div>

            <!-- Download Resume -->
            <div class="mt-8 pt-8 border-t border-white/10">
                <a href="{{ url_for('download_resume', filename=member.resume_link) }}" class="block w-full text-center py-4 bg-white/5 border border-cyan/20 text-cyan font-bold hover:bg-cyan hover:text-deep transition-all rounded-lg uppercase tracking-widest text-sm">
                    Download Full CV (PDF)
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}